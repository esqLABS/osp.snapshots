<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Working with Data Frames • osp.snapshots</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Working with Data Frames">
<meta name="robots" content="noindex">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">osp.snapshots</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.2.0.9001</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/osp-snapshots.html">Get started</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/working-with-dataframes.html">Working with Data Frames</a></li>
    <li><a class="dropdown-item" href="../articles/creating-building-blocks.html">Creating Building Blocks</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Working with Data Frames</h1>
            
      

      <div class="d-none name"><code>working-with-dataframes.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://esqlabs.github.io/osp.snapshots/">osp.snapshots</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyr.tidyverse.org" class="external-link">tidyr</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p>One of the key features of osp.snapshots is the ability to convert
complex nested snapshot data into structured data frames that are easy
to work with in R. This vignette demonstrates how to extract, convert,
and analyze snapshot data using standard R data analysis tools.</p>
</div>
<div class="section level2">
<h2 id="setup">Setup<a class="anchor" aria-label="anchor" href="#setup"></a>
</h2>
<p>Let’s start by loading our test snapshot:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">snapshot_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span></span>
<span>  <span class="st">"extdata"</span>,</span>
<span>  <span class="st">"test_snapshot.json"</span>,</span>
<span>  package <span class="op">=</span> <span class="st">"osp.snapshots"</span></span>
<span><span class="op">)</span></span>
<span><span class="va">snapshot</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/load_snapshot.html">load_snapshot</a></span><span class="op">(</span><span class="va">snapshot_path</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="converting-building-blocks-to-data-frames">Converting Building Blocks to Data Frames<a class="anchor" aria-label="anchor" href="#converting-building-blocks-to-data-frames"></a>
</h2>
<p>Each building block type has a corresponding <code>get_*_dfs()</code>
function that converts the data to structured data frames.</p>
<div class="section level3">
<h3 id="converting-individuals">Converting Individuals<a class="anchor" aria-label="anchor" href="#converting-individuals"></a>
</h3>
<p>Individual data is converted into multiple related data frames:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">individual_dfs</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_individuals_dfs.html">get_individuals_dfs</a></span><span class="op">(</span><span class="va">snapshot</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">individual_dfs</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "individuals"             "individuals_parameters" </span></span>
<span><span class="co">#&gt; [3] "individuals_expressions"</span></span></code></pre></div>
<p>Let’s examine each data frame:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Basic characteristics</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">individual_dfs</span><span class="op">$</span><span class="va">individuals</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 5 × 17</span></span></span>
<span><span class="co">#&gt;   individual_id            name    seed species population gender   age age_unit</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> European (P-gp modified… Euro… 1.72<span style="color: #949494;">e</span>7 Human   European_… MALE    30   year(s) </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> Korean (Yu 2004 study)   Kore… 5.30<span style="color: #949494;">e</span>7 Human   Asian_Tan… MALE    23.3 year(s) </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> ind_modified             ind_… 4.88<span style="color: #949494;">e</span>8 Human   BlackAmer… MALE    56   year(s) </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> Asian                    Asian 9.18<span style="color: #949494;">e</span>8 Human   Asian_Tan… MALE    26   year(s) </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> CKD                      CKD   1.52<span style="color: #949494;">e</span>9 Human   European_… MALE    50   year(s) </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 9 more variables: gestational_age &lt;dbl&gt;, gestational_age_unit &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   weight &lt;dbl&gt;, weight_unit &lt;chr&gt;, height &lt;dbl&gt;, height_unit &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   disease_state &lt;chr&gt;, calculation_methods &lt;glue&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   disease_state_parameters &lt;glue&gt;</span></span></span>
<span></span>
<span><span class="co"># Parameters</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">individual_dfs</span><span class="op">$</span><span class="va">parameters</span><span class="op">)</span></span>
<span><span class="co">#&gt; NULL</span></span>
<span></span>
<span><span class="co"># Expression profiles</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">individual_dfs</span><span class="op">$</span><span class="va">expression_profiles</span><span class="op">)</span></span>
<span><span class="co">#&gt; NULL</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="converting-single-individual">Converting Single Individual<a class="anchor" aria-label="anchor" href="#converting-single-individual"></a>
</h3>
<p>You can also convert a single individual to data frames:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Get the first individual</span></span>
<span><span class="va">individual</span> <span class="op">&lt;-</span> <span class="va">snapshot</span><span class="op">$</span><span class="va">individuals</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></span>
<span><span class="va">single_individual_df</span> <span class="op">&lt;-</span> <span class="va">individual</span><span class="op">$</span><span class="fu">to_df</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">single_individual_df</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "individuals"             "individuals_parameters" </span></span>
<span><span class="co">#&gt; [3] "individuals_expressions"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">single_individual_df</span><span class="op">$</span><span class="va">individuals</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 1 × 17</span></span></span>
<span><span class="co">#&gt;   individual_id            name    seed species population gender   age age_unit</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> European (P-gp modified… Euro… 1.72<span style="color: #949494;">e</span>7 Human   European_… MALE      30 year(s) </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 9 more variables: gestational_age &lt;dbl&gt;, gestational_age_unit &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   weight &lt;dbl&gt;, weight_unit &lt;chr&gt;, height &lt;dbl&gt;, height_unit &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   disease_state &lt;chr&gt;, calculation_methods &lt;glue&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   disease_state_parameters &lt;chr&gt;</span></span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="converting-compounds">Converting Compounds<a class="anchor" aria-label="anchor" href="#converting-compounds"></a>
</h3>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">compounds_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_compounds_dfs.html">get_compounds_dfs</a></span><span class="op">(</span><span class="va">snapshot</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">compounds_df</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 8</span></span></span>
<span><span class="co">#&gt;   compound  category              type  parameter value unit  data_source source</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                 <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> BI 100777 physicochemical_prop… lipo… Optimized 3.233 Log … <span style="color: #BB0000;">NA</span>          Param…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> BI 100777 physicochemical_prop… frac… Gertz et… 0.031 %     <span style="color: #BB0000;">NA</span>          n0026…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> BI 100777 physicochemical_prop… mole… <span style="color: #BB0000;">NA</span>        1500… g/mol <span style="color: #BB0000;">NA</span>          c2647…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> BI 100777 physicochemical_prop… halo… Cl        1     <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span>          c2647…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> BI 100777 physicochemical_prop… halo… F         1     <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span>          c2647…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> BI 100777 physicochemical_prop… pKa   base      6.2   <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span>          c2647…</span></span>
<span></span>
<span><span class="co"># Examine compound data structure</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">compounds_df</span><span class="op">$</span><span class="va">category</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;        biliary_clearance        hepatic_clearance                induction </span></span>
<span><span class="co">#&gt;                       15                       15                       22 </span></span>
<span><span class="co">#&gt;               inhibition     metabolizing_enzymes physicochemical_property </span></span>
<span><span class="co">#&gt;                       25                       54                       53 </span></span>
<span><span class="co">#&gt; protein_binding_partners          renal_clearance     transporter_proteins </span></span>
<span><span class="co">#&gt;                        8                       12                       33</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">compounds_df</span><span class="op">$</span><span class="va">type</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ActiveTransport_InVitro_VesicularAssay_MM </span></span>
<span><span class="co">#&gt;                                         3 </span></span>
<span><span class="co">#&gt;               ActiveTransportIntrinsic_MM </span></span>
<span><span class="co">#&gt;                                         3 </span></span>
<span><span class="co">#&gt;              ActiveTransportSpecific_Hill </span></span>
<span><span class="co">#&gt;                                        15 </span></span>
<span><span class="co">#&gt;                ActiveTransportSpecific_MM </span></span>
<span><span class="co">#&gt;                                        12 </span></span>
<span><span class="co">#&gt;                          BiliaryClearance </span></span>
<span><span class="co">#&gt;                                        15 </span></span>
<span><span class="co">#&gt;                     CompetitiveInhibition </span></span>
<span><span class="co">#&gt;                                        10 </span></span>
<span><span class="co">#&gt;                          fraction_unbound </span></span>
<span><span class="co">#&gt;                                         7 </span></span>
<span><span class="co">#&gt;                      GlomerularFiltration </span></span>
<span><span class="co">#&gt;                                         1 </span></span>
<span><span class="co">#&gt;                                  halogens </span></span>
<span><span class="co">#&gt;                                         8 </span></span>
<span><span class="co">#&gt;                            HepatocytesRes </span></span>
<span><span class="co">#&gt;                                         2 </span></span>
<span><span class="co">#&gt;                                 Induction </span></span>
<span><span class="co">#&gt;                                        22 </span></span>
<span><span class="co">#&gt;                   intestinal_permeability </span></span>
<span><span class="co">#&gt;                                         4 </span></span>
<span><span class="co">#&gt;                    IrreversibleInhibition </span></span>
<span><span class="co">#&gt;                                         9 </span></span>
<span><span class="co">#&gt;                           KidneyClearance </span></span>
<span><span class="co">#&gt;                                         3 </span></span>
<span><span class="co">#&gt;                             lipophilicity </span></span>
<span><span class="co">#&gt;                                         7 </span></span>
<span><span class="co">#&gt;                            LiverClearance </span></span>
<span><span class="co">#&gt;                                         4 </span></span>
<span><span class="co">#&gt;                    LiverMicrosomeHalfTime </span></span>
<span><span class="co">#&gt;                                         3 </span></span>
<span><span class="co">#&gt;                         LiverMicrosomeRes </span></span>
<span><span class="co">#&gt;                                         6 </span></span>
<span><span class="co">#&gt;        MetabolizationIntrinsic_FirstOrder </span></span>
<span><span class="co">#&gt;                                         8 </span></span>
<span><span class="co">#&gt;                MetabolizationIntrinsic_MM </span></span>
<span><span class="co">#&gt;                                         4 </span></span>
<span><span class="co">#&gt;  MetabolizationLiverMicrosomes_FirstOrder </span></span>
<span><span class="co">#&gt;                                         3 </span></span>
<span><span class="co">#&gt;          MetabolizationLiverMicrosomes_MM </span></span>
<span><span class="co">#&gt;                                        13 </span></span>
<span><span class="co">#&gt;         MetabolizationSpecific_FirstOrder </span></span>
<span><span class="co">#&gt;                                         3 </span></span>
<span><span class="co">#&gt;               MetabolizationSpecific_Hill </span></span>
<span><span class="co">#&gt;                                        10 </span></span>
<span><span class="co">#&gt;                 MetabolizationSpecific_MM </span></span>
<span><span class="co">#&gt;                                         8 </span></span>
<span><span class="co">#&gt;                           MixedInhibition </span></span>
<span><span class="co">#&gt;                                         4 </span></span>
<span><span class="co">#&gt;                          molecular_weight </span></span>
<span><span class="co">#&gt;                                         6 </span></span>
<span><span class="co">#&gt;                  NoncompetitiveInhibition </span></span>
<span><span class="co">#&gt;                                         1 </span></span>
<span><span class="co">#&gt;                                       pKa </span></span>
<span><span class="co">#&gt;                                        11 </span></span>
<span><span class="co">#&gt;                        rCYP450_FirstOrder </span></span>
<span><span class="co">#&gt;                                         2 </span></span>
<span><span class="co">#&gt;                                rCYP450_MM </span></span>
<span><span class="co">#&gt;                                         3 </span></span>
<span><span class="co">#&gt;                                solubility </span></span>
<span><span class="co">#&gt;                                        10 </span></span>
<span><span class="co">#&gt;                           SpecificBinding </span></span>
<span><span class="co">#&gt;                                         8 </span></span>
<span><span class="co">#&gt;               TubularSecretion_FirstOrder </span></span>
<span><span class="co">#&gt;                                         2 </span></span>
<span><span class="co">#&gt;                       TubularSecretion_MM </span></span>
<span><span class="co">#&gt;                                         6 </span></span>
<span><span class="co">#&gt;                   UncompetitiveInhibition </span></span>
<span><span class="co">#&gt;                                         1</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="converting-formulations">Converting Formulations<a class="anchor" aria-label="anchor" href="#converting-formulations"></a>
</h3>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">formulations_dfs</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_formulations_dfs.html">get_formulations_dfs</a></span><span class="op">(</span><span class="va">snapshot</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">formulations_dfs</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "formulations"            "formulations_parameters"</span></span>
<span></span>
<span><span class="co"># Basic formulation info</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">formulations_dfs</span><span class="op">$</span><span class="va">formulations</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 4</span></span></span>
<span><span class="co">#&gt;   formulation_id            name                    formulation formulation_type</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> Tablet (Dormicum)         Tablet (Dormicum)       Formulatio… Weibull         </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> Oral solution             Oral solution           Formulatio… Dissolved       </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> form_dissolved            form_dissolved          Formulatio… Dissolved       </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> form_Lint80               form_Lint80             Formulatio… Lint80          </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> form-particle-dissolution form-particle-dissolut… Formulatio… Particle        </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> form-table                form-table              Formulatio… Table</span></span>
<span></span>
<span><span class="co"># Formulation parameters</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">formulations_dfs</span><span class="op">$</span><span class="va">parameters</span><span class="op">)</span></span>
<span><span class="co">#&gt; NULL</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="converting-populations">Converting Populations<a class="anchor" aria-label="anchor" href="#converting-populations"></a>
</h3>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">populations_dfs</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_populations_dfs.html">get_populations_dfs</a></span><span class="op">(</span><span class="va">snapshot</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">populations_dfs</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "populations"            "populations_parameters"</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">populations_dfs</span><span class="op">$</span><span class="va">populations</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 22</span></span></span>
<span><span class="co">#&gt;   population_id name         seed number_of_individuals proportion_of_females</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>                 <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>                 <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> pop_1         pop_1   202<span style="text-decoration: underline;">395</span>203                   100                    50</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> pop2          pop2  -<span style="color: #BB0000; text-decoration: underline;">1</span><span style="color: #BB0000;">746</span><span style="color: #BB0000; text-decoration: underline;">093</span><span style="color: #BB0000;">953</span>                    10                    50</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> pop3          pop3   <span style="text-decoration: underline;">2</span>040<span style="text-decoration: underline;">342</span>218                    10                     2</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> pop4          pop4    235<span style="text-decoration: underline;">227</span>359                    10                    50</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> pop6          pop6    324<span style="text-decoration: underline;">184</span>656                    15                    50</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> pop7          pop7    486<span style="text-decoration: underline;">878</span>578                    12                    50</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 17 more variables: source_population &lt;chr&gt;, individual_name &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   age_min &lt;dbl&gt;, age_max &lt;dbl&gt;, age_unit &lt;chr&gt;, weight_min &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   weight_max &lt;dbl&gt;, weight_unit &lt;chr&gt;, height_min &lt;dbl&gt;, height_max &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   height_unit &lt;chr&gt;, bmi_min &lt;dbl&gt;, bmi_max &lt;dbl&gt;, bmi_unit &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   egfr_min &lt;dbl&gt;, egfr_max &lt;dbl&gt;, egfr_unit &lt;chr&gt;</span></span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="converting-observed-data">Converting Observed Data<a class="anchor" aria-label="anchor" href="#converting-observed-data"></a>
</h3>
<p>Observed data conversion creates a flat data frame perfect for
analysis:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">obs_data_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_observed_data_dfs.html">get_observed_data_dfs</a></span><span class="op">(</span><span class="va">snapshot</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">obs_data_df</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 30</span></span></span>
<span><span class="co">#&gt;   name            xValues yValues yErrorValues xDimension xUnit yDimension yUnit</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> Backman 1996 -…     0.5 0.008<span style="text-decoration: underline;">59</span>           <span style="color: #BB0000;">NA</span> Time       h     Concentra… mg/l </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> Backman 1996 -…     1   0.046<span style="text-decoration: underline;">6</span>            <span style="color: #BB0000;">NA</span> Time       h     Concentra… mg/l </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> Backman 1996 -…     1.5 0.043<span style="text-decoration: underline;">5</span>            <span style="color: #BB0000;">NA</span> Time       h     Concentra… mg/l </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> Backman 1996 -…     2   0.037<span style="text-decoration: underline;">4</span>            <span style="color: #BB0000;">NA</span> Time       h     Concentra… mg/l </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> Backman 1996 -…     3   0.023<span style="text-decoration: underline;">7</span>            <span style="color: #BB0000;">NA</span> Time       h     Concentra… mg/l </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> Backman 1996 -…     4   0.017<span style="text-decoration: underline;">1</span>            <span style="color: #BB0000;">NA</span> Time       h     Concentra… mg/l </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 22 more variables: yErrorType &lt;chr&gt;, yErrorUnit &lt;chr&gt;, molWeight &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   lloq &lt;dbl&gt;, `DB Version` &lt;chr&gt;, ID &lt;chr&gt;, `Study Id` &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   Reference &lt;chr&gt;, Source &lt;chr&gt;, Grouping &lt;chr&gt;, `Data type` &lt;chr&gt;, N &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   Molecule &lt;chr&gt;, Species &lt;chr&gt;, Organ &lt;chr&gt;, Compartment &lt;chr&gt;, Route &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   Dose &lt;chr&gt;, `Times of Administration [h]` &lt;chr&gt;, Formulation &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   `Food state` &lt;chr&gt;, Comment &lt;chr&gt;</span></span></span>
<span></span>
<span><span class="co"># Check the structure</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">obs_data_df</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="co">#&gt; tibble [750 × 5] (S3: tbl_df/tbl/data.frame)</span></span>
<span><span class="co">#&gt;  $ name        : chr [1:750] "Backman 1996 - Control (Perpetrator Placebo) - Midazolam - PO - 15 mg - Plasma - agg. (n=10)" "Backman 1996 - Control (Perpetrator Placebo) - Midazolam - PO - 15 mg - Plasma - agg. (n=10)" "Backman 1996 - Control (Perpetrator Placebo) - Midazolam - PO - 15 mg - Plasma - agg. (n=10)" "Backman 1996 - Control (Perpetrator Placebo) - Midazolam - PO - 15 mg - Plasma - agg. (n=10)" ...</span></span>
<span><span class="co">#&gt;  $ xValues     : num [1:750] 0.5 1 1.5 2 3 4 5 6 8 10 ...</span></span>
<span><span class="co">#&gt;  $ yValues     : num [1:750] 0.00859 0.04657 0.04349 0.03743 0.02367 ...</span></span>
<span><span class="co">#&gt;  $ yErrorValues: num [1:750] NA NA NA NA NA NA NA NA NA NA ...</span></span>
<span><span class="co">#&gt;  $ xDimension  : chr [1:750] "Time" "Time" "Time" "Time" ...</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="next-steps">Next Steps<a class="anchor" aria-label="anchor" href="#next-steps"></a>
</h2>
<ul>
<li>Learn how to create new building blocks in
<code><a href="../articles/creating-building-blocks.html">vignette("creating-building-blocks")</a></code>
</li>
<li>Explore the full API in the <a href="https://esqlabs.github.io/osp.snapshots/reference/">function
reference</a>
</li>
</ul>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Felix MIL, ESQlabs, GmbH. Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

<div class="pkgdown-footer-right">
  <p>osp.snapshots</p>
</div>

    </footer>
</div>





  </body>
</html>
